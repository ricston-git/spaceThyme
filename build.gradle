apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'jetty'
apply plugin: 'idea'
apply plugin: 'application'


sourceCompatibility = 1.6
version = '1.0'


repositories {
   mavenCentral()
}


dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    compile 'org.thymeleaf:thymeleaf:2.1.3.RELEASE'
    compile 'org.apache.commons:commons-io:1.3.2'
    compile 'org.codehaus.groovy:groovy-all:2.3.6'
}


task(buildSite, dependsOn: 'classes', type: JavaExec) {
    if (System.getProperty("site")) {

    }
    main = "Main"
    classpath = sourceSets.main.runtimeClasspath
}

//task requireJs(type: RhinoShellExec) {
//    script = "theme/require.js"
//    scriptArgs = ["-e", 'load("theme/js/require.js");load("theme/js/requirejs-config.js");']
//}


 jettyRun {
    webAppSourceDirectory = file('site')
    httpPort = 8080
    contextPath = 'site'
}

